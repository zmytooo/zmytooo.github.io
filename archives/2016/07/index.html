<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<title>
  
    归档: 2016/7
  
</title>

<meta property="og:type" content="website">
<meta property="og:title" content="tooo的前端路">
<meta property="og:url" content="http://yoursite.com/archives/2016/07/index.html">
<meta property="og:site_name" content="tooo的前端路">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="tooo的前端路">


  <link rel="alternative" href="/atom.xml" title="tooo的前端路" type="application/atom+xml">



  <link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="/perfect-scrollbar/css/perfect-scrollbar.min.css">
<link rel="stylesheet" href="/styles/main.css">






</head>
<body
  
    class="monochrome"
  
  >
  <div class="mobile-header">
  <button class="sidebar-toggle" type="button">
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <a class="title" href="/">tooo的前端路</a>
</div>

  <div class="main-container">
    <div class="sidebar">
  <div class="header">
    <h1 class="title"><a href="/">tooo的前端路</a></h1>
    
      <p class="subtitle">
        之路漫漫
      </p>
    
    <div class="info">
      <div class="content">
        
        
          <div class="author">zmytooo</div>
        
      </div>
      
        <div class="avatar">
          
            <a href="/about"><img src="https://cn.gravatar.com/avatar/35fef74d731255cd569c2c2b0b9e87e4?s=200"></a>
          
        </div>
      
    </div>
  </div>
  <div class="body">
    
      
        <ul class="nav">
          
            
              <li class="category-list-container">
                <a href="javascript:;">分类</a>
                
              </li>
            
          
            
              <li class="tag-list-container">
                <a href="javascript:;">标签</a>
                
              </li>
            
          
            
              <li class="archive-list-container">
                <a href="javascript:;">归档</a>
                <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/">2016</a><span class="archive-list-count">23</span></li></ul>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="/" title="Homepage">Homepage</a>
              </li>
            
          
            
              <li>
                <a href="/archives" title="By Year">By Year</a>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="https://github.com/denjones/hexo-theme-chan" title="Chan" target="_blank" rel="external">Chan</a>
              </li>
            
          
            
              <li>
                <a href="https://github.com/denjones" title="Github" target="_blank" rel="external">Github</a>
              </li>
            
          
            
              <li>
                <a href="/atom.xml" title="RSS">RSS</a>
              </li>
            
          
        </ul>
      
    
  </div>
</div>

    <div class="main-content">
      
        <div style="max-width: 1000px">
      
          

  
  
    
      
      
      <section class="archives-wrap">
        <div class="archive-year-wrap">
          <h1><a href="/archives/2016" class="archive-year">2016</a></h1>
        </div>
        <div class="post-list">
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/07/19/放大镜效果/" >
  放大镜效果
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/07/19/放大镜效果/"><span class="article-date">
  2016-07-19
</span>
</a>
        

        

      </div>
      <div class="article-entry">
        
          <h3 id="用js原生实现放大镜效果"><a href="#用js原生实现放大镜效果" class="headerlink" title="用js原生实现放大镜效果"></a>用js原生实现放大镜效果</h3><p>一般PC端网页中的商品详情页都会有放大镜效果，今天就用js原生来实现基础的放大镜效果。</p>
<p>1.首先，我们在HTML里写上内容和一些简单的样式。代码如下：</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;meta charset=&quot;UTF-8&quot;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;style type=&quot;text/css&quot;&gt;
.box{
    width: 850px;
    margin: 100px auto;
    background: #ccc;
    position: relative;
}
.small{
    width: 400px;
    height: 300px;
    position: absolute;
}
.small img{
    width: 100%;
    height: 100%;
}
.small span{
    width: 100px;
    height: 100px;
    background: blue;
    opacity: 0.3;
    position: absolute;
    top: 0;left: 0;
    cursor: move;
}
.small #show{
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;left: 0;
    z-index: 10;
}
.big{
    width: 400px;
    height: 300px;
    position: absolute;
    top: 0;left: 450px;
    overflow: hidden;
}
.big img{
    width: 200%;
    height: 200%;
    position: absolute;
    top: 0;left: 0;
}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class=&quot;box&quot;&gt;
&lt;div class=&quot;small&quot;&gt;
    &lt;img src=&quot;qyc.jpg&quot;&gt;
    &lt;span&gt;&lt;/span&gt;
    &lt;div id=&quot;show&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;big&quot;&gt;
    &lt;img src=&quot;qyc.jpg&quot;&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>初始化效果如下：</p>
<p><img src="http://a1.qpic.cn/psb?/V101Z8453moGbb/pc.2DHAYwAjvJ*0vq8.fmWhFE.gf97eMkMGaTIdwAu8!/b/dOQAAAAAAAAA&amp;bo=LwS2AQAAAAADB74!&amp;rf=viewer_4" alt="Alt text"></p>
<p>2.一般放大镜的放大效果和蒙版初始是不显示的，当我们鼠标移入图片时放大的效果图片和蒙版就会显示。我们应该在CSS样式中添加如下内容：</p>
<pre><code>.small span{
    display:none;
}
.big{
    display: none;
}
</code></pre><p>效果如下：</p>
<p><img src="http://a2.qpic.cn/psb?/V101Z8453moGbb/*wqjAHnjDjTMi591BeHsTrCAmGOE*Fq9olXJprthldU!/b/dI0BAAAAAAAA&amp;bo=LwSUAQAAAAADB5w!&amp;rf=viewer_4" alt="Alt text"></p>
<p>3.下面是js部分</p>
<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;
var mask = document.querySelector(&apos;.small span&apos;);
var show = document.querySelector(&apos;#show&apos;);
var small = document.querySelector(&apos;.small&apos;);
var smallImg = document.querySelector(&apos;.small img&apos;);
var big = document.querySelector(&apos;.big&apos;);
var bigImg = document.querySelector(&apos;.big img&apos;);

small.onmouseover=function(){
    mask.style.display=&apos;block&apos;;
    big.style.display=&apos;block&apos;;
}
small.onmouseout=function(){
    mask.style.display=&apos;none&apos;;
    big.style.display=&apos;none&apos;;
}

show.onmousemove=function(event){
    var oEvent=event || window.event;
    var x=oEvent.offsetX;
    var y=oEvent.offsetY;
    var le=x-mask.offsetWidth/2;
    var to=y-mask.offsetHeight/2;
    if(le&lt;=0){
        le=0;
    }else if(show.offsetWidth-x&lt;=mask.offsetWidth/2){
        le=show.offsetWidth-mask.offsetWidth;
    }
    if(to&lt;=0){
        to=0;
    }else if(show.offsetHeight-y&lt;=mask.offsetHeight/2){
        to=show.offsetHeight-mask.offsetHeight;
    }
    mask.style.left=le+&quot;px&quot;;
    mask.style.top=to+&quot;px&quot;;
    var xishuX=le/(show.offsetWidth-mask.offsetWidth);
    var xishuY=to/(show.offsetHeight-mask.offsetHeight);
    bigImg.style.left=-xishuX*(bigImg.offsetWidth-big.offsetWidth)+&quot;px&quot;;
    bigImg.style.top=-xishuY*(bigImg.offsetHeight-big.offsetHeight)+&quot;px&quot;;
}
&lt;/script&gt;
</code></pre><p>最终的效果就是我们所需要的放大镜效果</p>
<p><img src="http://a2.qpic.cn/psb?/V101Z8453moGbb/AFs8L92qi0wxEtzWzpePf6*KUuHZhq1ywBLlHYl1yw8!/b/dAkBAAAAAAAA&amp;bo=0gN5AQAAAAADB4s!&amp;rf=viewer_4" alt="Alt text"></p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/07/15/用css实现图片在div内的垂直居中/" >
  用css实现图片在div内的垂直居中
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/07/15/用css实现图片在div内的垂直居中/"><span class="article-date">
  2016-07-15
</span>
</a>
        

        

      </div>
      <div class="article-entry">
        
          <p>关于图片垂直居中的问题大家应该都遇到过，大家应该也有搜索过，这里整理了一份此类问题希望对大家有帮助</p>
<p>div相对与table对于图片的垂直居中支持的并不好,特别对于不同浏览器的兼容性来说,这里我们看下一个简洁的css解决方法:</p>
<p>在曾经的 淘宝UED 招聘 中有这样一道题目：</p>
<p>“使用纯CSS实现未知尺寸的图片(但高宽都小于200px)在200px的正方形容器中水平和垂直居中。”</p>
<p>当然出题并不是随意，而是有其现实的原因，垂直居中是 淘宝 工作中最常遇到的一个问题，很有代表性。<br>题目的难点在于两点：</p>
<p>1.垂直居中；</p>
<p>2.图片是个置换元素，有些特殊的特性。</p>
<p>至于如何解决，下面是一个权衡的相对结构干净，CSS简单的解决方法：</p>
<pre><code>.box { 
/*非IE的主流浏览器识别的垂直居中的方法*/ 
display: table-cell; 
vertical-align:middle; 
/*设置水平居中*/ 
text-align:center; 
/* 针对IE的Hack */ 
*display: block; 
*font-size: 175px;/*约为高度的0.873，200*0.873 约为175*/ 
*font-family:Arial;/*防止非utf-8引起的hack失效问题，如gbk编码*/ 
    width:200px; 
    height:200px; 
    border: 1px solid #eee; 
} 
.box img { 
    /*设置图片垂直居中*/ 
    vertical-align:middle; 
} 
&lt;div class=&quot;box&quot;&gt; 
    &lt;img src=&quot;http://pics.taobao.com/bao/album/promotion/    taoscars_180x95_071112_sr.jpg&quot; /&gt; 
&lt;/div&gt; 
</code></pre><p>大家可以根据自己的问题修改代码</p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/07/11/javascript闭包问题【转】/" >
  javascript闭包问题【转】
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/07/11/javascript闭包问题【转】/"><span class="article-date">
  2016-07-11
</span>
</a>
        

        

      </div>
      <div class="article-entry">
        
          <h3 id="JavaScript闭包"><a href="#JavaScript闭包" class="headerlink" title="JavaScript闭包"></a>JavaScript闭包</h3><p>闭包是指有权访问另一个函数作用域中的变量的函数。如下例：</p>
<pre><code>function createComparisonFunction(propertyName){
    return function(object1,object2){
        var value1 = object1[propertyName];
        var value2 = object2[propertyName];
        if(value1&lt;value2){
            return -1;
        }else if(value1&gt;value1){
            return 1;
        }else{
            return 0;
        }
    }
}
</code></pre><p>上面var value1 = object1[propertypeName],var value2 = propertyName,两行代码访问了外部函数中的变量propertyName。即使这个内部函数被返回了，而且是在其他地方被调用了 ，但他仍然可以访问变量propertyName。之所以还能访问这个变量，是因为内部函数的作用域链中包含createComparisonFunction（）的作用域。搞清其中细节，必须从理解函数第一次被调用的时候会发生什么入手。</p>
<p>当函数第一次被调用时，会创建一个执行环境及相应的作用域链,并且把作用域链赋值给一个特殊的内部属性（即scope）。然后，使用this，arguments和其他命名参数的值来初始化函数的活动对象。但在作用域链中，外部函数的活动对象始终处于第二位，而外部函数的外部函数处于第三位，……直至作为作用域链终点的群居执行环境。</p>
<pre><code>function compare(value1,value2){
    if(value1&lt;value2){
        return -1;
    }else if(value1&lt;value2){
        return 1; 
    }else{
        return 0;
    }
}
var result = compare(5,10);
</code></pre><p>上面代码，先定义了compare()函数，然后又在全局变量中调用了它。当它第一次调用compare()时，先会创建this，arguments,value1,value2的活动对象。全局执行环境的变量对象（包含this，result和compare）在compare()执行环境的作用域中处于第二位。下图展示了上午关系的compare()函数执行时的作用域链。</p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/07/10/图片懒加载/" >
  图片懒加载
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/07/10/图片懒加载/"><span class="article-date">
  2016-07-10
</span>
</a>
        

        

      </div>
      <div class="article-entry">
        
          <p>图片延迟加载也称为懒加载，延迟加载图片或符合某些条件时才加载某些图片，通常用于图片比较多的网页。可以减少请求数或者延迟请求数，优化性能。下面是一个比较简单的懒加载例子（前端小菜鸟，有错误请多多指教）<br>下面是图片懒加载中的HTML部分，因为我们一开始是有个初始化的过程，在浏览器显现出来的部分图片是存在的，没有显现出来的图片是先不加载的。这样我们就不能一开始就把图片的src直接给出来。在这里，我们给图片的路径取名为data-src。简单的给图片一些样式</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;meta charset=&quot;UTF-8&quot;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;style type=&quot;text/css&quot;&gt;
    *{
        margin: 0;
        padding: 0;
        list-style: none;
    }
    html,body{
        height: 100%;
    }
    ul{
        min-height: 100vh;
        overflow: hidden;
    }
    ul li{
        width: 25%;
        float: left;
        overflow: hidden;
        box-sizing: border-box;
        background: #000;
        border: 1px solid #fff;
    }
    a{
        display: block;
        text-align: center;
    }
    a img{
        height: 200px;
    }
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;ul&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href=&quot;#&quot;&gt;
            &lt;img class=&quot;lazyload&quot; data-src=&quot;http://www.bz55.com/uploads/allimg/160419/139-160419162216.jpg&quot; alt=&quot;&quot;&gt;
        &lt;/a&gt;
    &lt;/li&gt;
&lt;/ul&gt;    
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>下面是js部分，逻辑分为两部分。第一部分是初始化，第二部分是滚动事件。<br>初始化：先定义了body的高度，浏览器窗口的高度。如果图片到浏览器顶部的高度小于浏览器的高度图片就会显示。所以，这时候就把data-src改为src。<br>滚动事件：当滚动时图片滚动条的高度如果小于等于浏览器窗口的高度加上body滚动条的高度，这时，就把这些图片的data-src改成src。</p>
<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;
    var imgArr=document.querySelectorAll(&quot;.lazyload&quot;);
    function init(){    //初始化
        var scrollTop=document.body.scrollTop||document.documentElement.scrollTop;
        var windowHeight=window.innerHeight;
        var height=document.body.scrollHeight;
        console.log(scrollTop);
        for(var i=0;i&lt;imgArr.length;i++){
            if(imgArr[i].offsetTop&lt;windowHeight){
                imgArr[i].src=imgArr[i].getAttribute(&quot;data-src&quot;);
            }
        }
    }
    init();

    window.onscroll=function(){
        var scrollTop=document.body.scrollTop||document.documentElement.scrollTop;
        var windowHeight=window.innerHeight;
        var height=document.body.scrollHeight;
        for(var i=0;i&lt;imgArr.length;i++){
            if(imgArr[i].scrollTop&lt;=(windowHeight+scrollTop)&amp;&amp; !imgArr[i].src){
                imgArr[i].src=imgArr[i].getAttribute(&quot;data-src&quot;);
            }
        }
    }
&lt;/script&gt;
</code></pre>
        
      </div>
    </div>

  






          <div class="main-footer">
  
    © 2016 tooo的前端路 - Powered by <a href="http://hexo.io" target="_blank">Hexo</a> - Theme <a href="https://github.com/denjones/hexo-theme-chan" target="_blank">Chan</a>
  
</div>

      
        </div>
      
    </div>
  </div>
  <script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

  <link rel="stylesheet" href="/PhotoSwipe/photoswipe.css">
  <link rel="stylesheet" href="/PhotoSwipe/default-skin/default-skin.css">

  <!-- Root element of PhotoSwipe. Must have class pswp. -->
  <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
             It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

      <!-- Container that holds slides.
                PhotoSwipe keeps only 3 of them in the DOM to save memory.
                Don't modify these 3 pswp__item elements, data is added later on. -->
      <div class="pswp__container">
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
      </div>

      <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
      <div class="pswp__ui pswp__ui--hidden">

        <div class="pswp__top-bar">

          <!--  Controls are self-explanatory. Order can be changed. -->

          <div class="pswp__counter"></div>

          <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

          <button class="pswp__button pswp__button--share" title="Share"></button>

          <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

          <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

          <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
          <!-- element will get class pswp__preloader--active when preloader is running -->
          <div class="pswp__preloader">
            <div class="pswp__preloader__icn">
              <div class="pswp__preloader__cut">
                <div class="pswp__preloader__donut"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
          <div class="pswp__share-tooltip"></div>
        </div>

        <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>

        <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

        <div class="pswp__caption">
          <div class="pswp__caption__center"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="/PhotoSwipe/photoswipe.js"></script>
  <script src="/PhotoSwipe/photoswipe-ui-default.js"></script>


<script src="/perfect-scrollbar/js/min/perfect-scrollbar.min.js"></script>
<script src="/scripts/main.js"></script>

</body>
</html>
